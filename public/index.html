<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piedra Papel Tijera</title>
</head>
<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-family: sans-serif;
        background-color: #D14A36;
        color: black;
    }
     button:hover {
        background-color: #555;
     }
</style>

<body>
    <p id="vidas"></p>
    <p id="record">?</p>
    <p id="score"></p>
    <p>
        
        <span id="jugador">Jugador</span>
        <span>VS</span>
        <span id="enemigo">Computadora</span>
    </p>
    <p id="resultado"> Haz tu eleccion:</p>
    <div id="botones">
        <button onclick="jugar('ü™®')">ü™® Piedra</button>
        <button onclick="jugar('üßª')">üßª Papel</button>
        <button onclick="jugar('‚úÇÔ∏è')">‚úÇÔ∏è Tijera</button>
    </div>
    

    <script>
        const displeyScore = document.querySelector("#score")
        const displeyRecord = document.querySelector("#record")
        const eleccionJugador = document.querySelector("#jugador")
        const eleccionEnemigo = document.querySelector("#enemigo")
        const displeyResultado = document.querySelector("#resultado")
        const displayVidas = document.querySelector("#vidas")
        

        let vidas = 3
        displayVidas.textContent = "üñ§".repeat(vidas)

        let record = localStorage.getItem("record") ||  0
        displeyRecord.textContent = "R√©cord: " + record

        let score = 0
        displeyScore.textContent = score
        const elecciones =["ü™®", "üßª", "‚úÇÔ∏è"]

        function choose(array){
            return array[parseInt(Math.random()*array.length)]
        }

        function jugar(eleccion){
            if(vidas <= 0){
                score = 0
                vidas = 3
                displeyScore.textContent = "Puntuaci√≥n: " + score
                displayVidas.textContent ="üñ§".repeat(vidas)
                displeyResultado.textContent = "¬°Nuevo juego! Haz tu elecci√≥n"
                return
                
            }
            const eleccionEnemigoTexto = choose(elecciones)
            console.log("Eleccion del jugador: " ,eleccion)
            console.log("Eleccion computadora: " ,eleccionEnemigoTexto)

            
            eleccionJugador.textContent = eleccion
            eleccionEnemigo.textContent = eleccionEnemigoTexto
            
            if (eleccion === eleccionEnemigoTexto){
                displeyResultado.textContent = "Has empatado"
                return
            }

            const ganaJugador =
            
                (eleccion === "ü™®" && eleccionEnemigoTexto === "‚úÇÔ∏è") ||
                (eleccion === "üßª" && eleccionEnemigoTexto === "ü™®") ||
                (eleccion === "‚úÇÔ∏è" && eleccionEnemigoTexto === "üßª");
            

            if(ganaJugador){
                displeyResultado.textContent = "Has ganado"
                score++
                displeyScore.textContent = "Puntuaci√≥n: " + score

                if(score > record){
                    record = score
                    displeyRecord.textContent = "R√©cord: " + record
                    localStorage.setItem("record" , record)
                }

            }else{
                displeyResultado.textContent = "Has perdido"
                vidas --
                displayVidas.textContent = "üñ§".repeat(vidas)
                if(vidas <= 0){
                    displeyResultado.textContent = "Game Over"
                }
                
            }
        }
            


    </script>

</body>
</html>